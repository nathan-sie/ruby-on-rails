{"ast":null,"code":"import { defineComponent, reactive, toRefs, getCurrentInstance, onBeforeUnmount } from 'vue';\nimport { useOption } from './useOption.mjs';\nvar script = defineComponent({\n  name: \"ElOption\",\n  componentName: \"ElOption\",\n  props: {\n    value: {\n      required: true,\n      type: [String, Number, Boolean, Object]\n    },\n    label: [String, Number],\n    created: Boolean,\n    disabled: {\n      type: Boolean,\n      \"default\": false\n    }\n  },\n  setup: function setup(props) {\n    var states = reactive({\n      index: -1,\n      groupDisabled: false,\n      visible: true,\n      hitState: false,\n      hover: false\n    });\n\n    var _useOption = useOption(props, states),\n        currentLabel = _useOption.currentLabel,\n        itemSelected = _useOption.itemSelected,\n        isDisabled = _useOption.isDisabled,\n        select = _useOption.select,\n        hoverItem = _useOption.hoverItem;\n\n    var _toRefs = toRefs(states),\n        visible = _toRefs.visible,\n        hover = _toRefs.hover;\n\n    var vm = getCurrentInstance().proxy;\n    var key = vm.value;\n    select.onOptionCreate(vm);\n    onBeforeUnmount(function () {\n      var selected = select.selected;\n      var selectedOptions = select.props.multiple ? selected : [selected];\n      var doesExist = select.cachedOptions.has(key);\n      var doesSelected = selectedOptions.some(function (item) {\n        return item.value === vm.value;\n      });\n\n      if (doesExist && !doesSelected) {\n        select.cachedOptions[\"delete\"](key);\n      }\n\n      select.onOptionDestroy(key);\n    });\n\n    function selectOptionClick() {\n      if (props.disabled !== true && states.groupDisabled !== true) {\n        select.handleOptionSelect(vm, true);\n      }\n    }\n\n    return {\n      currentLabel: currentLabel,\n      itemSelected: itemSelected,\n      isDisabled: isDisabled,\n      select: select,\n      hoverItem: hoverItem,\n      visible: visible,\n      hover: hover,\n      selectOptionClick: selectOptionClick\n    };\n  }\n});\nexport { script as default };","map":null,"metadata":{},"sourceType":"module"}