{"ast":null,"code":"import { defineComponent, ref, computed, watchEffect } from 'vue';\nimport { DArrowLeft, DArrowRight, MoreFilled } from '@element-plus/icons';\nvar paginationPagerProps = {\n  currentPage: {\n    type: Number,\n    \"default\": 1\n  },\n  pageCount: {\n    type: Number,\n    required: true\n  },\n  pagerCount: {\n    type: Number,\n    \"default\": 7\n  },\n  disabled: Boolean\n};\nvar script = defineComponent({\n  name: \"ElPaginationPager\",\n  components: {\n    DArrowLeft: DArrowLeft,\n    DArrowRight: DArrowRight,\n    MoreFilled: MoreFilled\n  },\n  props: paginationPagerProps,\n  emits: [\"change\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var showPrevMore = ref(false);\n    var showNextMore = ref(false);\n    var quickPrevHover = ref(false);\n    var quickNextHover = ref(false);\n    var pagers = computed(function () {\n      var pagerCount = props.pagerCount;\n      var halfPagerCount = (pagerCount - 1) / 2;\n      var currentPage = Number(props.currentPage);\n      var pageCount = Number(props.pageCount);\n      var showPrevMore2 = false;\n      var showNextMore2 = false;\n\n      if (pageCount > pagerCount) {\n        if (currentPage > pagerCount - halfPagerCount) {\n          showPrevMore2 = true;\n        }\n\n        if (currentPage < pageCount - halfPagerCount) {\n          showNextMore2 = true;\n        }\n      }\n\n      var array = [];\n\n      if (showPrevMore2 && !showNextMore2) {\n        var startPage = pageCount - (pagerCount - 2);\n\n        for (var i = startPage; i < pageCount; i++) {\n          array.push(i);\n        }\n      } else if (!showPrevMore2 && showNextMore2) {\n        for (var _i = 2; _i < pagerCount; _i++) {\n          array.push(_i);\n        }\n      } else if (showPrevMore2 && showNextMore2) {\n        var offset = Math.floor(pagerCount / 2) - 1;\n\n        for (var _i2 = currentPage - offset; _i2 <= currentPage + offset; _i2++) {\n          array.push(_i2);\n        }\n      } else {\n        for (var _i3 = 2; _i3 < pageCount; _i3++) {\n          array.push(_i3);\n        }\n      }\n\n      return array;\n    });\n    watchEffect(function () {\n      var halfPagerCount = (props.pagerCount - 1) / 2;\n      showPrevMore.value = false;\n      showNextMore.value = false;\n\n      if (props.pageCount > props.pagerCount) {\n        if (props.currentPage > props.pagerCount - halfPagerCount) {\n          showPrevMore.value = true;\n        }\n\n        if (props.currentPage < props.pageCount - halfPagerCount) {\n          showNextMore.value = true;\n        }\n      }\n    });\n\n    function onMouseenter(direction) {\n      if (props.disabled) return;\n\n      if (direction === \"left\") {\n        quickPrevHover.value = true;\n      } else {\n        quickNextHover.value = true;\n      }\n    }\n\n    function onEnter(e) {\n      var target = e.target;\n\n      if (target.tagName.toLowerCase() === \"li\" && Array.from(target.classList).includes(\"number\")) {\n        var newPage = Number(target.textContent);\n\n        if (newPage !== props.currentPage) {\n          emit(\"change\", newPage);\n        }\n      }\n    }\n\n    function onPagerClick(event) {\n      var target = event.target;\n\n      if (target.tagName.toLowerCase() === \"ul\" || props.disabled) {\n        return;\n      }\n\n      var newPage = Number(target.textContent);\n      var pageCount = props.pageCount;\n      var currentPage = props.currentPage;\n      var pagerCountOffset = props.pagerCount - 2;\n\n      if (target.className.includes(\"more\")) {\n        if (target.className.includes(\"quickprev\")) {\n          newPage = currentPage - pagerCountOffset;\n        } else if (target.className.includes(\"quicknext\")) {\n          newPage = currentPage + pagerCountOffset;\n        }\n      }\n\n      if (!isNaN(newPage)) {\n        if (newPage < 1) {\n          newPage = 1;\n        }\n\n        if (newPage > pageCount) {\n          newPage = pageCount;\n        }\n      }\n\n      if (newPage !== currentPage) {\n        emit(\"change\", newPage);\n      }\n    }\n\n    return {\n      showPrevMore: showPrevMore,\n      showNextMore: showNextMore,\n      quickPrevHover: quickPrevHover,\n      quickNextHover: quickNextHover,\n      pagers: pagers,\n      onMouseenter: onMouseenter,\n      onPagerClick: onPagerClick,\n      onEnter: onEnter\n    };\n  }\n});\nexport { script as default };","map":null,"metadata":{},"sourceType":"module"}