{"ast":null,"code":"import { defineComponent, getCurrentInstance, computed } from 'vue';\nimport debounce from 'lodash/debounce';\nimport '../../../directives/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { createStore } from './store/helper.mjs';\nimport TableLayout from './table-layout.mjs';\nimport TableHeader from './table-header/index.mjs';\nimport TableBody from './table-body/index.mjs';\nimport TableFooter from './table-footer/index.mjs';\nimport useUtils from './table/utils-helper.mjs';\nimport useStyle from './table/style-helper.mjs';\nimport defaultProps from './table/defaults.mjs';\nimport Mousewheel from '../../../directives/mousewheel/index.mjs';\nimport { useLocaleInject } from '../../../hooks/use-locale/index.mjs';\nvar tableIdSeed = 1;\nvar script = defineComponent({\n  name: \"ElTable\",\n  directives: {\n    Mousewheel: Mousewheel\n  },\n  components: {\n    TableHeader: TableHeader,\n    TableBody: TableBody,\n    TableFooter: TableFooter\n  },\n  props: defaultProps,\n  emits: [\"select\", \"select-all\", \"selection-change\", \"cell-mouse-enter\", \"cell-mouse-leave\", \"cell-contextmenu\", \"cell-click\", \"cell-dblclick\", \"row-click\", \"row-contextmenu\", \"row-dblclick\", \"header-click\", \"header-contextmenu\", \"sort-change\", \"filter-change\", \"current-change\", \"header-dragend\", \"expand-change\"],\n  setup: function setup(props) {\n    var _useLocaleInject = useLocaleInject(),\n        t = _useLocaleInject.t;\n\n    var table = getCurrentInstance();\n    var store = createStore(table, props);\n    table.store = store;\n    var layout = new TableLayout({\n      store: table.store,\n      table: table,\n      fit: props.fit,\n      showHeader: props.showHeader\n    });\n    table.layout = layout;\n    var isEmpty = computed(function () {\n      return (store.states.data.value || []).length === 0;\n    });\n\n    var _useUtils = useUtils(store),\n        setCurrentRow = _useUtils.setCurrentRow,\n        toggleRowSelection = _useUtils.toggleRowSelection,\n        clearSelection = _useUtils.clearSelection,\n        clearFilter = _useUtils.clearFilter,\n        toggleAllSelection = _useUtils.toggleAllSelection,\n        toggleRowExpansion = _useUtils.toggleRowExpansion,\n        clearSort = _useUtils.clearSort,\n        sort = _useUtils.sort;\n\n    var _useStyle = useStyle(props, layout, store, table),\n        isHidden = _useStyle.isHidden,\n        renderExpanded = _useStyle.renderExpanded,\n        setDragVisible = _useStyle.setDragVisible,\n        isGroup = _useStyle.isGroup,\n        handleMouseLeave = _useStyle.handleMouseLeave,\n        handleHeaderFooterMousewheel = _useStyle.handleHeaderFooterMousewheel,\n        tableSize = _useStyle.tableSize,\n        bodyHeight = _useStyle.bodyHeight,\n        emptyBlockStyle = _useStyle.emptyBlockStyle,\n        handleFixedMousewheel = _useStyle.handleFixedMousewheel,\n        fixedHeight = _useStyle.fixedHeight,\n        fixedBodyHeight = _useStyle.fixedBodyHeight,\n        resizeProxyVisible = _useStyle.resizeProxyVisible,\n        bodyWidth = _useStyle.bodyWidth,\n        resizeState = _useStyle.resizeState,\n        doLayout = _useStyle.doLayout;\n\n    var debouncedUpdateLayout = debounce(doLayout, 50);\n    var tableId = \"el-table_\".concat(tableIdSeed++);\n    table.tableId = tableId;\n    table.state = {\n      isGroup: isGroup,\n      resizeState: resizeState,\n      doLayout: doLayout,\n      debouncedUpdateLayout: debouncedUpdateLayout\n    };\n    return {\n      layout: layout,\n      store: store,\n      handleHeaderFooterMousewheel: handleHeaderFooterMousewheel,\n      handleMouseLeave: handleMouseLeave,\n      tableId: tableId,\n      tableSize: tableSize,\n      isHidden: isHidden,\n      isEmpty: isEmpty,\n      renderExpanded: renderExpanded,\n      resizeProxyVisible: resizeProxyVisible,\n      resizeState: resizeState,\n      isGroup: isGroup,\n      bodyWidth: bodyWidth,\n      bodyHeight: bodyHeight,\n      emptyBlockStyle: emptyBlockStyle,\n      debouncedUpdateLayout: debouncedUpdateLayout,\n      handleFixedMousewheel: handleFixedMousewheel,\n      fixedHeight: fixedHeight,\n      fixedBodyHeight: fixedBodyHeight,\n      setCurrentRow: setCurrentRow,\n      toggleRowSelection: toggleRowSelection,\n      clearSelection: clearSelection,\n      clearFilter: clearFilter,\n      toggleAllSelection: toggleAllSelection,\n      toggleRowExpansion: toggleRowExpansion,\n      clearSort: clearSort,\n      doLayout: doLayout,\n      sort: sort,\n      t: t,\n      setDragVisible: setDragVisible,\n      context: table\n    };\n  }\n});\nexport { script as default };","map":null,"metadata":{},"sourceType":"module"}