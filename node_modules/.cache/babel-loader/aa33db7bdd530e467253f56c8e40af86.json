{"ast":null,"code":"import { defineComponent, getCurrentInstance, ref, computed, watch, onMounted } from 'vue';\nimport draggable from '../draggable.mjs';\nvar script = defineComponent({\n  name: \"ElColorHueSlider\",\n  props: {\n    color: {\n      type: Object,\n      required: true\n    },\n    vertical: Boolean\n  },\n  setup: function setup(props) {\n    var instance = getCurrentInstance();\n    var thumb = ref(null);\n    var bar = ref(null);\n    var thumbLeft = ref(0);\n    var thumbTop = ref(0);\n    var hueValue = computed(function () {\n      return props.color.get(\"hue\");\n    });\n    watch(function () {\n      return hueValue.value;\n    }, function () {\n      update();\n    });\n\n    function handleClick(event) {\n      var target = event.target;\n\n      if (target !== thumb.value) {\n        handleDrag(event);\n      }\n    }\n\n    function handleDrag(event) {\n      var el = instance.vnode.el;\n      var rect = el.getBoundingClientRect();\n      var hue;\n\n      if (!props.vertical) {\n        var left = event.clientX - rect.left;\n        left = Math.min(left, rect.width - thumb.value.offsetWidth / 2);\n        left = Math.max(thumb.value.offsetWidth / 2, left);\n        hue = Math.round((left - thumb.value.offsetWidth / 2) / (rect.width - thumb.value.offsetWidth) * 360);\n      } else {\n        var top = event.clientY - rect.top;\n        top = Math.min(top, rect.height - thumb.value.offsetHeight / 2);\n        top = Math.max(thumb.value.offsetHeight / 2, top);\n        hue = Math.round((top - thumb.value.offsetHeight / 2) / (rect.height - thumb.value.offsetHeight) * 360);\n      }\n\n      props.color.set(\"hue\", hue);\n    }\n\n    function getThumbLeft() {\n      var el = instance.vnode.el;\n      if (props.vertical) return 0;\n      var hue = props.color.get(\"hue\");\n      if (!el) return 0;\n      return Math.round(hue * (el.offsetWidth - thumb.value.offsetWidth / 2) / 360);\n    }\n\n    function getThumbTop() {\n      var el = instance.vnode.el;\n      if (!props.vertical) return 0;\n      var hue = props.color.get(\"hue\");\n      if (!el) return 0;\n      return Math.round(hue * (el.offsetHeight - thumb.value.offsetHeight / 2) / 360);\n    }\n\n    function update() {\n      thumbLeft.value = getThumbLeft();\n      thumbTop.value = getThumbTop();\n    }\n\n    onMounted(function () {\n      var dragConfig = {\n        drag: function drag(event) {\n          handleDrag(event);\n        },\n        end: function end(event) {\n          handleDrag(event);\n        }\n      };\n      draggable(bar.value, dragConfig);\n      draggable(thumb.value, dragConfig);\n      update();\n    });\n    return {\n      bar: bar,\n      thumb: thumb,\n      thumbLeft: thumbLeft,\n      thumbTop: thumbTop,\n      hueValue: hueValue,\n      handleClick: handleClick,\n      update: update\n    };\n  }\n});\nexport { script as default };","map":null,"metadata":{},"sourceType":"module"}